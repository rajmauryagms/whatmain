var _0x1706a7=_0x3e62;(function(_0x17cc98,_0x46513f){var _0x499be2=_0x3e62,_0x377d8e=_0x17cc98();while(!![]){try{var _0x2973fe=-parseInt(_0x499be2(0x15e))/0x1+parseInt(_0x499be2(0x152))/0x2+-parseInt(_0x499be2(0x16d))/0x3*(parseInt(_0x499be2(0x161))/0x4)+-parseInt(_0x499be2(0x147))/0x5+-parseInt(_0x499be2(0x155))/0x6+parseInt(_0x499be2(0x151))/0x7+parseInt(_0x499be2(0x15d))/0x8;if(_0x2973fe===_0x46513f)break;else _0x377d8e['push'](_0x377d8e['shift']());}catch(_0x2ac2b5){_0x377d8e['push'](_0x377d8e['shift']());}}}(_0x13a0,0xa3805));function _0x3e62(_0x4f1bdd,_0x3792cd){var _0x13a0b=_0x13a0();return _0x3e62=function(_0x3e6252,_0x41f778){_0x3e6252=_0x3e6252-0x146;var _0x3a9d0d=_0x13a0b[_0x3e6252];return _0x3a9d0d;},_0x3e62(_0x4f1bdd,_0x3792cd);}function _0x13a0(){var _0x4a09fc=['sender','5714645OzEEPa','exports','post','log','status','./schedule.json','accounts\x20with\x20id\x20','parse','email','Schedule','4383358uPRwlH','1673054UjtSMn','/delete/:id','json','2703222rmYxlh','splice','/listSchedule','filter','uuid','put','render','readFileSync','16629304CytupN','972035nMkJQa','stringify','writeFileSync','1224728hYicMK','params','time','/update/:id','message','backend/schedule','date','body','Router','check_login','readFile','delete','3kSGdQd','randomstring','get','utf8'];_0x13a0=function(){return _0x4a09fc;};return _0x13a0();}var express=require('express'),router=express[_0x1706a7(0x169)](),Auth_mdw=require('../middlewares/auth');const fs=require('fs'),dataPath=_0x1706a7(0x14c);var randomstring=require(_0x1706a7(0x16e)),uuid=require(_0x1706a7(0x159));router[_0x1706a7(0x16f)]('/',Auth_mdw[_0x1706a7(0x16a)],function(_0x496474,_0x1b67d6,_0x5bd767){var _0x182c33=_0x1706a7;_0x1b67d6[_0x182c33(0x15b)](_0x182c33(0x166));}),router[_0x1706a7(0x16f)](_0x1706a7(0x157),Auth_mdw[_0x1706a7(0x16a)],function(_0x970dab,_0x181d37,_0x484f72){var _0xce8628=_0x1706a7,_0x4ac638=JSON[_0xce8628(0x14e)](fs[_0xce8628(0x15c)](_0xce8628(0x14c),_0xce8628(0x170))),_0x24434d=_0x4ac638[_0xce8628(0x158)](function(_0x52583c){return _0x52583c['userid']==_0x970dab['session']['email'];});_0x181d37['status'](0xc8)['json']({'status':!![],'data':_0x24434d});});const saveAccountData=_0x4cf31c=>{var _0x146fa=_0x1706a7;const _0x4cb0ec=JSON[_0x146fa(0x15f)](_0x4cf31c);fs[_0x146fa(0x160)](dataPath,_0x4cb0ec);},getAccountData=()=>{var _0x580bb5=_0x1706a7;const _0x4f6da5=fs[_0x580bb5(0x15c)](dataPath);return JSON['parse'](_0x4f6da5);};router[_0x1706a7(0x149)]('/create',function(_0x2d0cd0,_0x3cf0d1,_0x114e92){var _0x451729=_0x1706a7;try{var _0x55302b=getAccountData(),_0x26ec7=_0x2d0cd0[_0x451729(0x168)][_0x451729(0x167)]+'\x20'+_0x2d0cd0[_0x451729(0x168)][_0x451729(0x163)];_0x55302b['push']({'id':uuid['v4'](),'date':_0x26ec7,'sender':_0x2d0cd0[_0x451729(0x168)][_0x451729(0x146)],'message':_0x2d0cd0[_0x451729(0x168)][_0x451729(0x165)],'userid':_0x2d0cd0['session'][_0x451729(0x14f)],'status':_0x451729(0x150)}),fs[_0x451729(0x160)](dataPath,JSON[_0x451729(0x15f)](_0x55302b)),_0x3cf0d1[_0x451729(0x14b)](0xc8)[_0x451729(0x154)]({'status':!![]});}catch(_0x3c4fea){console[_0x451729(0x14a)](_0x3c4fea);}}),router[_0x1706a7(0x15a)](_0x1706a7(0x164),function(_0x22f40a,_0x4d94f0,_0x7c1d4b){var _0x2b11be=_0x1706a7,_0xdb0a49=getAccountData();fs[_0x2b11be(0x16b)](dataPath,_0x2b11be(0x170),(_0x53cbc5,_0x171158)=>{var _0x53dec3=_0x2b11be;const _0x38425c=_0x22f40a[_0x53dec3(0x162)]['id'];_0xdb0a49[_0x38425c]=_0x22f40a[_0x53dec3(0x168)],saveAccountData(_0xdb0a49),_0x4d94f0[_0x53dec3(0x14b)](0xc8)[_0x53dec3(0x154)]({'status':!![],'data':_0xdb0a49});},!![]);}),router[_0x1706a7(0x16c)](_0x1706a7(0x153),function(_0x22c046,_0x34cf5c,_0x5ed948){var _0x6079cc=_0x1706a7;fs[_0x6079cc(0x16b)](dataPath,_0x6079cc(0x170),(_0x118fec,_0x27f50e)=>{var _0x341e4d=_0x6079cc,_0x4a532b=getAccountData();const _0xf4c3fe=_0x22c046[_0x341e4d(0x162)]['id'];var _0x4d6e1b=_0x4a532b['findIndex'](_0x516f83=>_0x516f83['id']===_0xf4c3fe);_0x4d6e1b>-0x1&&_0x4a532b[_0x341e4d(0x156)](_0x4d6e1b,0x1),delete _0x4a532b[_0xf4c3fe],saveAccountData(_0x4a532b),console[_0x341e4d(0x14a)](_0x4a532b),_0x34cf5c[_0x341e4d(0x14b)](0xc8)[_0x341e4d(0x154)]({'status':!![],'data':_0x341e4d(0x14d)+_0xf4c3fe+'\x20has\x20been\x20deleted'});},!![]);}),module[_0x1706a7(0x148)]=router;