var _0x59baf1=_0x26cc;(function(_0x2a9b46,_0x5d061f){var _0x59f777=_0x26cc,_0x4e81af=_0x2a9b46();while(!![]){try{var _0x33fabe=-parseInt(_0x59f777(0x166))/0x1*(-parseInt(_0x59f777(0x14e))/0x2)+parseInt(_0x59f777(0x147))/0x3+parseInt(_0x59f777(0x167))/0x4+-parseInt(_0x59f777(0x14d))/0x5+-parseInt(_0x59f777(0x156))/0x6+parseInt(_0x59f777(0x169))/0x7+-parseInt(_0x59f777(0x16a))/0x8;if(_0x33fabe===_0x5d061f)break;else _0x4e81af['push'](_0x4e81af['shift']());}catch(_0x1d8344){_0x4e81af['push'](_0x4e81af['shift']());}}}(_0x38b4,0xb31c0));var express=require('express'),router=express[_0x59baf1(0x149)](),Auth_mdw=require('../middlewares/auth');function _0x26cc(_0x34ffee,_0x1c4eaa){var _0x38b4df=_0x38b4();return _0x26cc=function(_0x26cc09,_0x2f058e){_0x26cc09=_0x26cc09-0x143;var _0x1304ee=_0x38b4df[_0x26cc09];return _0x1304ee;},_0x26cc(_0x34ffee,_0x1c4eaa);}const fs=require('fs'),dataPath=_0x59baf1(0x155);function _0x38b4(){var _0x360709=['randomstring','status','params','./reply.json','2822448EwEjTb','render','backend/reply','/update/:id','splice','check_login','body','delete','exports','\x20has\x20been\x20deleted','readFileSync','put','get','stringify','parse','push','197161emixYa','2887088hcfJYG','uuid','736330jqCpyu','1641056yKQGJG','post','findIndex','writeFileSync','reply','842814iloDXH','filter','Router','log','accounts\x20with\x20id\x20','json','5394275iOwTZP','14YziPmJ','userid','utf8','session'];_0x38b4=function(){return _0x360709;};return _0x38b4();}var randomstring=require(_0x59baf1(0x152)),uuid=require(_0x59baf1(0x168));router[_0x59baf1(0x162)]('/',Auth_mdw[_0x59baf1(0x15b)],function(_0xaa5552,_0x5a9b28,_0x9eca3c){var _0x706375=_0x59baf1;_0x5a9b28[_0x706375(0x157)](_0x706375(0x158));}),router[_0x59baf1(0x162)]('/listReply',Auth_mdw[_0x59baf1(0x15b)],function(_0x3b472a,_0x2c246e,_0x4f0fd5){var _0x1beed=_0x59baf1,_0x2f9720=JSON[_0x1beed(0x164)](fs[_0x1beed(0x160)](_0x1beed(0x155),_0x1beed(0x150))),_0x374ac7=_0x2f9720[_0x1beed(0x148)](function(_0x1b27b1){var _0x52d882=_0x1beed;return _0x1b27b1[_0x52d882(0x14f)]==_0x3b472a[_0x52d882(0x151)]['email'];});_0x2c246e[_0x1beed(0x153)](0xc8)[_0x1beed(0x14c)]({'status':!![],'data':_0x374ac7});});const saveAccountData=_0xd6e481=>{var _0x2dbfd1=_0x59baf1;const _0x323ca4=JSON[_0x2dbfd1(0x163)](_0xd6e481);fs[_0x2dbfd1(0x145)](dataPath,_0x323ca4);},getAccountData=()=>{var _0x3bb4a0=_0x59baf1;const _0x372c5b=fs[_0x3bb4a0(0x160)](dataPath);return JSON[_0x3bb4a0(0x164)](_0x372c5b);};router[_0x59baf1(0x143)]('/create',function(_0x73dae4,_0x505d00,_0xfafc48){var _0x5cc23b=_0x59baf1;try{var _0x207d37=getAccountData();_0x207d37[_0x5cc23b(0x165)]({'id':uuid['v4'](),'body':_0x73dae4[_0x5cc23b(0x15c)]['body'],'reply':_0x73dae4[_0x5cc23b(0x15c)][_0x5cc23b(0x146)],'userid':_0x73dae4[_0x5cc23b(0x151)]['email']}),fs[_0x5cc23b(0x145)](dataPath,JSON[_0x5cc23b(0x163)](_0x207d37)),_0x505d00[_0x5cc23b(0x153)](0xc8)['json']({'status':!![]});}catch(_0x5ab6d2){console[_0x5cc23b(0x14a)](_0x5ab6d2);}}),router[_0x59baf1(0x161)](_0x59baf1(0x159),function(_0x5ded49,_0x3b90ea,_0x450b36){var _0x1782b3=_0x59baf1,_0x4a5c77=getAccountData();fs['readFile'](dataPath,_0x1782b3(0x150),(_0x4ccc77,_0x228816)=>{var _0x51fc21=_0x1782b3;const _0x80e6a7=_0x5ded49['params']['id'];_0x4a5c77[_0x80e6a7]=_0x5ded49[_0x51fc21(0x15c)],saveAccountData(_0x4a5c77),_0x3b90ea[_0x51fc21(0x153)](0xc8)[_0x51fc21(0x14c)]({'status':!![],'data':_0x4a5c77});},!![]);}),router[_0x59baf1(0x15d)]('/delete/:id',function(_0x965396,_0x4863ae,_0x1fed15){var _0x13c017=_0x59baf1;fs['readFile'](dataPath,_0x13c017(0x150),(_0x5be136,_0x176ebb)=>{var _0x25776e=_0x13c017,_0x8d5d57=getAccountData();const _0x26882d=_0x965396[_0x25776e(0x154)]['id'];var _0x4e9c4a=_0x8d5d57[_0x25776e(0x144)](_0x325ad1=>_0x325ad1['id']===_0x26882d);_0x4e9c4a>-0x1&&_0x8d5d57[_0x25776e(0x15a)](_0x4e9c4a,0x1),delete _0x8d5d57[_0x26882d],saveAccountData(_0x8d5d57),console['log'](_0x8d5d57),_0x4863ae[_0x25776e(0x153)](0xc8)[_0x25776e(0x14c)]({'status':!![],'data':_0x25776e(0x14b)+_0x26882d+_0x25776e(0x15f)});},!![]);}),module[_0x59baf1(0x15e)]=router;