function _0x7f55(){var _0x1c5723=['render','../middlewares/auth','json','log','findIndex','/contacts','get','6599142wvuRKu','select','check_login','transaction','51688lSzMSG','status','splice','794428XXdSIG','session','utf8','userid','parse','/create','54666kxsZSS','post','commit','392GMMjlE','body','filter','1391434EGKGdM','85332DhhcNZ','backend/kontak','catch','45EoiceY','readFile','params','1196rayxtl','\x20has\x20been\x20deleted','readFileSync','/update/:id','./kontak.json','stringify','tbl_contacts','rollback','Router','76yCVWuA','accounts\x20with\x20id\x20','name','then','delete','3WiYqfZ','transacting','10dMroJu','email','15266clhvoQ','writeFileSync','/delete/:id'];_0x7f55=function(){return _0x1c5723;};return _0x7f55();}var _0x512ee9=_0x1792;(function(_0x30ccc1,_0x1f6959){var _0x442801=_0x1792,_0x2ab43c=_0x30ccc1();while(!![]){try{var _0x4d77d5=-parseInt(_0x442801(0xfa))/0x1*(-parseInt(_0x442801(0xcd))/0x2)+parseInt(_0x442801(0xff))/0x3*(parseInt(_0x442801(0xde))/0x4)+parseInt(_0x442801(0xee))/0x5*(-parseInt(_0x442801(0xe4))/0x6)+-parseInt(_0x442801(0xe7))/0x7*(parseInt(_0x442801(0xdb))/0x8)+-parseInt(_0x442801(0xd7))/0x9*(parseInt(_0x442801(0x101))/0xa)+parseInt(_0x442801(0xea))/0xb+parseInt(_0x442801(0xeb))/0xc*(parseInt(_0x442801(0xf1))/0xd);if(_0x4d77d5===_0x1f6959)break;else _0x2ab43c['push'](_0x2ab43c['shift']());}catch(_0x2e2af1){_0x2ab43c['push'](_0x2ab43c['shift']());}}}(_0x7f55,0x5d5a0));var express=require('express'),router=express[_0x512ee9(0xf9)](),Auth_mdw=require(_0x512ee9(0xd1));function _0x1792(_0x3d44e5,_0x4454da){var _0x7f555f=_0x7f55();return _0x1792=function(_0x1792b8,_0x5b1cb8){_0x1792b8=_0x1792b8-0xcd;var _0x4a9422=_0x7f555f[_0x1792b8];return _0x4a9422;},_0x1792(_0x3d44e5,_0x4454da);}const fs=require('fs'),dataPath=_0x512ee9(0xf5);var uuid=require('uuid');const knex=require('../database');router[_0x512ee9(0xd6)]('/',Auth_mdw['check_login'],function(_0x1dffa7,_0x48caab,_0x3f0849){var _0x5b1edb=_0x512ee9;_0x48caab[_0x5b1edb(0xd0)](_0x5b1edb(0xec));}),router[_0x512ee9(0xd6)]('/listKontak',Auth_mdw[_0x512ee9(0xd9)],function(_0x5ce1d9,_0x54ccd9,_0x56a271){var _0x99eaff=_0x512ee9,_0x21a916=JSON['parse'](fs[_0x99eaff(0xf3)](_0x99eaff(0xf5),_0x99eaff(0xe0))),_0x4e0b07=_0x21a916[_0x99eaff(0xe9)](function(_0x5ef037){var _0x936283=_0x99eaff;return _0x5ef037[_0x936283(0xe1)]==_0x5ce1d9[_0x936283(0xdf)]['email'];});_0x54ccd9[_0x99eaff(0xdc)](0xc8)[_0x99eaff(0xd2)]({'status':!![],'data':_0x4e0b07});});const saveAccountData=_0x2e1e13=>{var _0x34e2bf=_0x512ee9;const _0x442c76=JSON['stringify'](_0x2e1e13);fs[_0x34e2bf(0xce)](dataPath,_0x442c76);},getAccountData=()=>{var _0x2275c6=_0x512ee9;const _0x3a284d=fs['readFileSync'](dataPath);return JSON[_0x2275c6(0xe2)](_0x3a284d);};router['get'](_0x512ee9(0xd5),function(_0x3dc24a,_0x1f8118,_0x3b815f){var _0x829c0=_0x512ee9;knex[_0x829c0(0xda)](function(_0x3972a7){var _0xdbc76b=_0x829c0;knex(_0xdbc76b(0xf7))[_0xdbc76b(0x100)](_0x3972a7)[_0xdbc76b(0xd8)]('*')[_0xdbc76b(0xfd)]()[_0xdbc76b(0xfd)](_0x3972a7[_0xdbc76b(0xe6)])['catch'](_0x3972a7[_0xdbc76b(0xf8)]);})[_0x829c0(0xfd)](function(_0x7533d){var _0x275e23=_0x829c0;_0x1f8118['status'](0xc8)[_0x275e23(0xd2)](_0x7533d);})[_0x829c0(0xed)](function(_0x42d891){var _0x285c42=_0x829c0;console[_0x285c42(0xd3)](_0x42d891);});}),router[_0x512ee9(0xe5)](_0x512ee9(0xe3),function(_0x32e920,_0x117311,_0x5af089){var _0x4745f6=_0x512ee9;try{var _0x35a0c7=getAccountData();_0x35a0c7['push']({'id':uuid['v4'](),'hp':_0x32e920[_0x4745f6(0xe8)]['hp'],'name':_0x32e920[_0x4745f6(0xe8)][_0x4745f6(0xfc)],'userid':_0x32e920[_0x4745f6(0xdf)][_0x4745f6(0x102)]}),fs[_0x4745f6(0xce)](dataPath,JSON[_0x4745f6(0xf6)](_0x35a0c7)),_0x117311['status'](0xc8)['json']({'status':!![]});}catch(_0x3ba7cb){console['log'](_0x3ba7cb);}}),router['put'](_0x512ee9(0xf4),function(_0x6800f5,_0x51faee,_0x6fe4f1){var _0x271818=_0x512ee9,_0x465fe6=getAccountData();fs[_0x271818(0xef)](dataPath,_0x271818(0xe0),(_0x41ce36,_0x514709)=>{var _0xd870df=_0x271818;const _0x5cb3ec=_0x6800f5[_0xd870df(0xf0)]['id'];_0x465fe6[_0x5cb3ec]=_0x6800f5[_0xd870df(0xe8)],saveAccountData(_0x465fe6),_0x51faee[_0xd870df(0xdc)](0xc8)[_0xd870df(0xd2)]({'status':!![],'data':_0x465fe6});},!![]);}),router[_0x512ee9(0xfe)](_0x512ee9(0xcf),function(_0x337dd,_0x1932fa,_0x14b109){var _0x31b3ac=_0x512ee9;fs[_0x31b3ac(0xef)](dataPath,_0x31b3ac(0xe0),(_0x20f6c6,_0x2f91fc)=>{var _0x823044=_0x31b3ac,_0x55ce70=getAccountData();const _0x566abd=_0x337dd[_0x823044(0xf0)]['id'];var _0x127240=_0x55ce70[_0x823044(0xd4)](_0x58d34f=>_0x58d34f['id']===_0x566abd);_0x127240>-0x1&&_0x55ce70[_0x823044(0xdd)](_0x127240,0x1),delete _0x55ce70[_0x566abd],saveAccountData(_0x55ce70),console[_0x823044(0xd3)](_0x55ce70),_0x1932fa[_0x823044(0xdc)](0xc8)[_0x823044(0xd2)]({'status':!![],'data':_0x823044(0xfb)+_0x566abd+_0x823044(0xf2)});},!![]);}),module['exports']=router;